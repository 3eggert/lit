{"version":3,"sources":["src/lit/backend/localizations.js","src/lit/backend/sources.js"],"names":["edited_rows","document","addEventListener","localizationRows","querySelectorAll","forEach","row","tdElem","e","currentTarget","parseInt","dataset","editing","id","innerHTML","rowElem","querySelector","edit","fetch","then","resp","json","html","isHtmlKey","focus","click","url","target","action","method","headers","Rails","csrfToken","body","JSON","stringify","localization","translated_value","value","localizationId","parentElement","classList","remove","checked","preventDefault","href","translatedText","textareaElem","pellElement","content","inputElems","inputElem","i","allLocalizationRows","matches","refElem","localName","parentNode","localizationVersionsRows","add","td","localizationKeyRows","textarea","pell","init","element","onChange","style","display","requestInfoRow","contains","loadingElement","updateFunc","sourceIdElement","sourceId","ok","Promise","reject","status","sync_complete","clearInterval","interval","location","reload","catch","error","window","setInterval","tableElem","button","confirm","acceptButtons","rejectButtons"],"mappings":"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","file":"app/assets/javascripts/lit/app.js","sourcesContent":["import pell from 'pell';\n\nlet edited_rows = {};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const localizationRows = document.querySelectorAll('td.localization_row[data-editing=\"0\"]');\n\n  localizationRows.forEach(row => {\n    row.addEventListener('click', e => {\n      const tdElem = e.currentTarget;\n      if (!parseInt(tdElem.dataset.editing)) {\n        edited_rows[tdElem.dataset.id] = tdElem.innerHTML;\n        const rowElem = document.querySelector(`td.localization_row[data-id=\"${tdElem.dataset.id}\"]`);\n        if (!parseInt(tdElem.dataset.editing) && tdElem.dataset.edit) {\n          tdElem.dataset.editing = '1';\n          fetch(tdElem.dataset.edit)\n          .then(resp => resp.json())\n          .then(({html, isHtmlKey}) => {\n            rowElem.dataset.editing = 1;\n            rowElem.innerHTML = html;\n            rowElem.querySelector('textarea, input').focus();\n            if (isHtmlKey) {\n              rowElem.querySelector('.wysiwyg_switch').click()\n            }\n\n            rowElem.querySelector('form').addEventListener('submit', e => {\n              const url = e.target.action;\n              fetch(url, {\n                method: 'PATCH',\n                headers: {\n                  'X-CSRF-Token': Rails.csrfToken(),\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  localization: {\n                    translated_value: rowElem.querySelector('textarea').value\n                  }\n                })\n              })\n              .then(resp => resp.json())\n              .then(({localizationId, html}) => {\n                delete rowElem.dataset.editing;\n                rowElem.innerHTML = html;\n                rowElem.parentElement.querySelector('.show_prev_versions').classList.remove('hidden');\n                document.querySelector(`a.change_completed_${localizationId} input[type=\"checkbox\"]`).checked = true;\n              })\n              e.preventDefault();\n            });\n\n            rowElem.querySelector('.js-cloud-translation-link').addEventListener('click', e => {\n              e.preventDefault();\n              const url = e.target.href;\n              fetch(url).then(resp => resp.json()).then(\n                ({translatedText}) => {\n                  if (typeof(translatedText) === 'string') {\n                    const textareaElem = rowElem.querySelector('textarea');\n                    textareaElem.value = translatedText;\n                    if (isHtmlKey) {\n                      const pellElement = rowElem.querySelector('.pell');\n                      pellElement.content.innerHTML = translatedText;\n                    }\n                  } else if (typeof(translatedText) === 'object') {\n                    const inputElems = rowElem.querySelectorAll('input[type=\"text\"]');\n                    inputElems.forEach((inputElem, i) => inputElem.value = translatedText[i]);\n                  }\n                }\n              );\n            });\n          });\n        }\n      }\n    })\n  });\n\n  const allLocalizationRows = document.querySelectorAll('td.localization_row');\n\n  allLocalizationRows.forEach(row => {\n    row.addEventListener('click', e => {\n      if (e.target.matches('form button.cancel')) {\n        let refElem = e.target;\n        if (refElem.localName === 'button') {\n          while (!refElem.matches('td.localization_row')) {\n            refElem = refElem.parentNode;\n            if (!refElem) { return; }\n          }\n          refElem.dataset.editing = '0';\n          refElem.innerHTML = edited_rows[refElem.dataset.id];\n          e.preventDefault();\n          return false;\n        }\n      }\n    })\n  });\n\n  const localizationVersionsRows = document.querySelectorAll('tr.localization_versions_row');\n\n  localizationVersionsRows.forEach(row => {\n    row.addEventListener('click', e => {\n      if (e.target.matches('.close_versions')) {\n        let refElem = e.target;\n        while (!refElem.matches('tr.localization_versions_row')) {\n          refElem = refElem.parentNode;\n          if (!refElem) { return; }\n        }\n        refElem.classList.add('hidden');\n        refElem.querySelectorAll('td').forEach(td => td.innerHTML = '');\n      }\n    })\n  });\n\n  const localizationKeyRows = document.querySelectorAll('tr.localization_key_row');\n\n  localizationKeyRows.forEach(row => {\n    row.addEventListener('click', e => {\n      if (e.target.matches('input.wysiwyg_switch')) {\n        let refElem = e.target;\n        while (!refElem.matches('form')) {\n          refElem = refElem.parentNode;\n          if (!refElem) { return; }\n        }\n        const textarea = refElem.querySelector('textarea');\n        const pellElement = refElem.querySelector('.pell');\n\n        if (e.target.checked) {\n          if (!pellElement.content) {\n            pell.init({\n              element: pellElement,\n              onChange: html => textarea.value = html\n            });\n          }\n\n          pellElement.content.innerHTML = textarea.value;\n          textarea.style.display = 'none';\n          pellElement.style.display = '';\n        } else {\n          textarea.style.display = '';\n          pellElement.style.display = 'none';\n        }\n      }\n\n      if (e.target.matches('.request_info_link')) {\n        let refElem = e.target;\n        while (!refElem.matches('tr.localization_key_row')) {\n          refElem = refElem.parentNode;\n          if (!refElem) { return; }\n        }\n        requestInfoRow = refElem.querySelector('.request_info_row');\n        if (requestInfoRow.classList.contains('hidden')) {\n          requestInfoRow.classList.remove('hidden');\n        } else {\n          requestInfoRow.classList.add('hidden');\n        }\n      }\n    });\n  });\n})","document.addEventListener('DOMContentLoaded', () => {\n  const loadingElement = document.querySelector('.loading');\n\n  const updateFunc = () => {\n    const sourceIdElement = document.querySelector('#source_id');\n    if (!sourceIdElement) { return; }\n\n    const sourceId = sourceIdElement.value;\n\n    fetch(`/lit/sources/${sourceId}/sync_complete`)\n      .then(resp => {\n        if (resp.ok) {\n          return resp.json();\n        } else {\n          return Promise.reject({ status: resp.status });\n        }\n      })\n      .then(json => {\n        if (json.sync_complete) {\n          loadingElement.classList.add('loaded');\n          loadingElement.classList.remove('loading');\n          clearInterval(interval);\n          location.reload();\n        }\n      })\n      .catch(error => {\n        switch (error.status) {\n          case 404:\n            loadingElement.innerHTML = 'Could not update synchronization status, please try refreshing page';\n            break;\n          case 401:\n            loadingElement.innerHTML = 'You are not authorized. Please check if you are properly logged in';\n            break;\n          case 500:\n            loadingElement.innerHTML = 'Something went wrong, please try synchronizing again';\n            break;\n          default:\n            loadingElement.innerHTML = 'An unknown error occurred. Please try again'\n        }\n        clearInterval(interval);\n      });\n  }\n\n  if (loadingElement) {\n    window.interval = setInterval(updateFunc, 500);\n  }\n\n  const tableElem = document.querySelector('.incomming-localizations-table')\n\n  tableElem.addEventListener('click', e => {\n    debugger;\n    const button = e.target;\n    if (button.matches('.js-accept-btn')) {\n      e.preventDefault();\n      const url = e.target.href;\n      fetch(url, {\n        method: 'GET',\n        headers: {\n          'X-CSRF-Token': Rails.csrfToken(),\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(resp => {\n        debugger;\n      })\n    }\n\n    if (button.matches('.js-reject-btn')) {\n      e.preventDefault();\n      if (confirm(e.target.dataset.confirm)) {\n        const url = e.target.href;\n        debugger;\n        fetch(url, {\n          method: 'DELETE',\n          headers: {\n            'X-CSRF-Token': Rails.csrfToken(),\n            'Content-Type': 'application/json'\n          }\n        })\n        .then(resp => {\n          debugger;\n        })\n      }\n    }\n  });\n\n  const acceptButtons = document.querySelectorAll('.js-accept-btn');\n  const rejectButtons = document.querySelectorAll('.js-reject-btn');\n\n  acceptButtons.forEach(button => {\n\n  });\n\n  rejectButtons.forEach(button => {\n\n  });\n})"]}